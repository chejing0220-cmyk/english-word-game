<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>单词挑战赛 | 多人版</title>
    <style>
        /* 所有样式代码保持不变，这里为了简洁省略 */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-align: center; padding: 20px; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; margin: 0; }
        .container { background-color: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); max-width: 700px; width: 90%; }
        /* ... 其他样式保持不变 ... */
    </style>
</head>
<body>
    <div class="container">
        <!-- 欢迎页面 -->
        <div id="welcome">
            <h1>单词挑战赛 · 多人版</h1>
            <p class="subtitle">扫描二维码，与同学一起挑战单词测试！</p>
            <button id="teacher-btn">我是老师</button>
            <button id="student-btn">我是学生</button>
        </div>

        <!-- 老师设置页面 -->
        <div id="teacher-setup">
            <h1>创建游戏房间</h1>
            <div class="share-info">
                <p>让学生扫描下方二维码加入游戏</p>
                <div class="qr-container">
                    <div id="qrcode" class="qr-placeholder">
                        <div>正在生成二维码...</div>
                    </div>
                </div>
                <p>或复制链接：</p>
                <div class="url-box" id="game-url"></div>
            </div>
            <div class="player-list">
                <h3>已加入玩家 (<span id="player-count">0</span>)</h3>
                <div id="players-list"></div>
            </div>
            <button id="start-game-btn">开始游戏</button>
            <button onclick="showScreen('welcome')">返回</button>
        </div>

        <!-- 其他界面代码保持不变 -->
    </div>

    <script>
        // 所有JavaScript代码保持不变
        function generateSimpleQRCode(text, elementId) {
            const element = document.getElementById(elementId);
            element.innerHTML = '';
            
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const size = 180;
            canvas.width = size;
            canvas.height = size;
            
            ctx.fillStyle = '#FFFFFF';
            ctx.fillRect(0, 0, size, size);
            ctx.fillStyle = '#000000';
            
            const data = text + '|' + Date.now();
            for (let i = 0; i < data.length; i++) {
                const charCode = data.charCodeAt(i);
                for (let j = 0; j < 8; j++) {
                    if (charCode & (1 << j)) {
                        const x = (i * 3 + (j % 3)) * 6;
                        const y = Math.floor(i / 10) * 6 + Math.floor(j / 3) * 6;
                        if (x < size && y < size) {
                            ctx.fillRect(x, y, 4, 4);
                        }
                    }
                }
            }
            
            ctx.fillRect(5, 5, 25, 25);
            ctx.fillRect(size - 30, 5, 25, 25);
            ctx.fillRect(5, size - 30, 25, 25);
            
            ctx.fillStyle = '#000000';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('单词挑战赛', size/2, size/2 + 4);
            
            element.appendChild(canvas);
        }

        // ... 其余所有JavaScript函数和事件监听器保持不变 ...
    </script>
</body>
</html>
